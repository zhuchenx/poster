webpackJsonp([12],{14:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Confirm",props:{width:{type:String,default:"300px"},title:{type:String,default:"信息"},okText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},mask:{default:!0},visible:{default:!1},isShowCloseBtn:{default:!0}},methods:{cancel:function(){this.$emit("cancel")},sure:function(){this.$emit("ok")}},mounted:function(){}}},17:function(t,e){},18:function(t,e,n){n(17);var o=n(1)(n(14),n(19),"data-v-c1bd9694",null);t.exports=o.exports},19:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.visible?n("div",{staticClass:"f-dialog-confirm"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.mask,expression:"mask"}],staticClass:"mask"}),t._v(" "),n("div",{staticClass:"container",style:{width:t.width}},[n("div",{staticClass:"header"},[n("span",[t._v(t._s(t.title))]),t._v(" "),t.isShowCloseBtn?n("a",{staticClass:"icon icon-close close",attrs:{href:"javascript:;"},on:{click:t.cancel}}):t._e()]),t._v(" "),n("div",{staticClass:"content"},[t._t("content")],2),t._v(" "),n("div",{staticClass:"footer"},[t._t("footer",[n("a",{staticClass:"g-btn-red btn-ok",attrs:{href:"javascript:;"},on:{click:t.sure}},[t._v(t._s(t.okText))]),t._v(" "),n("a",{staticClass:"g-btn-normal btn-cancel",attrs:{href:"javascript:;"},on:{click:t.cancel}},[t._v(t._s(t.cancelText))])])],2)])]):t._e()])},staticRenderFns:[]}},38:function(t,e){"use strict";$(function(){var t,e,n=window,o=function(n){t&&t.removeClass("active"),e&&e.hide().removeClass("active").removeAttr("onpannel").trigger("close"),t=null,e=null};$("body").on("click","[pannel]",function(n){var a=$(this),s=$(a.attr("pannel"));s.is(":visible")?o():(o(),_.delay(function(){s.show().attr("onpannel","1"),t=a.addClass("active"),e=s.addClass("active").trigger("open")}))}).on("click","[onpannel]",function(t){t.stopPropagation()}).on("click","[pannel-close]",function(t){o()}).bind("click",o).bind("mousedown",function(t){0!=t.button&&o()}),$(n).bind("blur",o)})},373:function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(7),i=a(s),c=n(450),r=o(c),l=n(6),d=o(l),u=n(18),v=a(u);n(38),e.default={data:function(){return{keyword:"",lang:"en",setting:d.getDefault(),categoryText:"",category:"",isAdd:!1,trans:"",phonetic:"",newCategory:null,confirmDialogVisible:!1,isContinue:!1}},components:{Confirm:v.default},created:function(){ydk.setWinSize({width:480,height:405,type:"Wordbook"})},watch:{keyword:function(t){var e=this;return""==t?(e.trans="",void(e.phonetic="")):void ydk.getDictResult({data:{keyword:t,lang:"en",type:"quick"},success:function(t){var n,o=t.data;o.basic&&o.basic.length>0?n=o.basic:o.web&&o.web.length>0&&(n=[],o.web.forEach(function(t){(0,i.default)(t).forEach(function(e){n.push(e+" ："+t[e].join(","))})})),e.trans=n?n.join("\n"):"",o.ussm||o.uksm?e.phonetic="us"==e.setting.content.pronounce_type?o.ussm:o.uksm:e.phonetic=o.sm||""}})},phonetic:function(t){var e=this;t.length>=60&&e.$toast.show({text:"音标长度不能超过60哦",type:"warn"})},trans:function(t){var e=this;t.length>=3e3&&e.$toast.show({text:"释义长度不能超过3000",type:"warn"})}},methods:r,mounted:function(){var t=this;d.get(function(e){t.setting=e,t.categoryText=e.wordbook.defaultCategory}),ydk.queryWordBookCategory({success:function(e){t.category=e.data}})}}},450:function(t,e){"use strict";function n(){var t=this,e=t.keyword,n="en",o=t.trans,a=t.phonetic,s="未分组"==t.categoryText?"":t.categoryText,i=$("input[name=revise]").is(":checked"),c="en",r="en";if(e){var l={word:e,lang:n,phonetic:a,trans:o||"",category:s,plan:i,lanFrom:c,lanTo:r};console.log("======== checkWordBook 新增单词 lang:",n),ydk.checkWordBook({word:e,lang:n,success:function(e){e.has?(t.confirmDialogVisible=!0,t.isContinue=!1):(ydk.addToWordBook(l),t.$toast.show({text:"添加成功",type:"success"}),setTimeout(function(){ydk.closeWin({type:"Wordbook"})},1e3))}})}else t.$toast.show({text:"请填写需要添加的单词",type:"warn"})}function o(){var t=this;t.confirmDialogVisible=!1;var e={word:t.keyword,lang:t.lang||"en",phonetic:t.phonetic,trans:t.trans||"",category:"未分组"==t.categoryText?"":t.categoryText,plan:$("input[name=revise]").is(":checked"),lanFrom:"en",lanTo:"en"};ydk.addToWordBook(e),t.$toast.show({text:"添加成功",type:"success"}),t.isContinue||setTimeout(function(){ydk.closeWin({type:"Wordbook"})},1e3)}function a(){var t=this;t.confirmDialogVisible=!1}function s(){var t=this,e=t.keyword,n=t.lang||"en",o=t.trans,a=t.phonetic,s="未分组"==t.categoryText?"":t.categoryText,i=$("input[name=revise]").is(":checked"),c="en",r="en";if(e){var l={word:e,lang:n,phonetic:a,trans:o||"",category:s,plan:i,lanFrom:c,lanTo:r};console.log("======== checkWordBook 新增单词 lang:",n),ydk.checkWordBook({word:e,lang:n,success:function(e){e.has?(t.confirmDialogVisible=!0,t.isContinue=!0):(ydk.addToWordBook(l),t.$toast.show({text:"添加成功",type:"success"}))}})}else t.$toast.show({text:"请填写需要添加的单词",type:"warn"});t.keyword="",t.categoryText="",t.phonetic="",t.trans=""}function i(){ydk.closeWin({type:"Wordbook"})}function c(t){var e=this;e.isAdd=!1,e.categoryText=t}function r(t){var e=this;e.isAdd=!1}function l(t){var e=this;e.isAdd=!1,null==e.category&&(e.category=[]),e.category.splice(0,0,{name:t})}function d(){var t=this;t.isAdd=!t.isAdd}function u(t){var e=this,n=e.newCategory,o=!1,a="分组命名重复了哦";if(13==t.keyCode&&null!=n){if(e.newCategory="",_.each(e.category,function(t){t.name==n&&(o=!0)}),_.each(e.category,function(t){t.name==n?o=!0:"未分组"!=n&&"所有分组"!=n&&"未分组单词"!=n||(a="不能取该分组名",o=!0)}),o)return void e.$toast.show({text:a,type:"warn"});ydk.addWordBookCategory({name:n}),ydk.queryWordBookCategory({success:function(t){e.categoryList=t.data}}),e.category.push({name:n})}}function v(){var t=this;t.isAdd=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.addToWordBook=n,e.ok=o,e.cancel=a,e.addContinue=s,e.closeWin=i,e.selectSort=c,e.onCategoryCancel=r,e.onCategoryAdded=l,e.toggleAdd=d,e.submit=u,e.onPannelClose=v},569:function(t,e){},691:function(t,e,n){n(569);var o=n(1)(n(373),n(780),"data-v-a81bed02",null);t.exports=o.exports},780:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"wb-alert wb-word-opt"},[n("ul",[n("li",[n("label",[t._v("单词"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"g-input-text",attrs:{type:"text"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})])]),t._v(" "),n("li",{staticClass:"category"},[n("label",[t._v("分组"),n("div",{staticClass:"sort-select ellipsis",attrs:{pannel:"#js_category_add"}},[n("span",[t._v(t._s(t.categoryText||"未分组"))]),n("span",{staticClass:"icon icon-down"})])]),t._v(" "),n("div",{staticClass:"pannel-add hide",attrs:{id:"js_category_add"}},[n("div",{staticClass:"category-wrap"},[n("ul",{attrs:{"pannel-close":""}},[n("li",{class:{active:""==t.categoryText}},[n("label",{on:{click:function(e){return t.selectSort("")}}},[t._v("未分组")])]),t._v(" "),t._l(t.category,function(e){return n("li",{class:{active:t.categoryText==e.name}},[n("label",{on:{click:function(n){return t.selectSort(e.name)}}},[t._v(t._s(e.name))])])})],2)]),t._v(" "),n("div",{staticClass:"category-create"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newCategory,expression:"newCategory",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"创建新分组，按回车键保存"},domProps:{value:t.newCategory},on:{keydown:function(e){return t.submit(e)},input:function(e){e.target.composing||(t.newCategory=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),n("li",[n("label",[t._v("音标"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phonetic,expression:"phonetic"}],staticClass:"g-input-text",attrs:{type:"text",maxlength:"60"},domProps:{value:t.phonetic},on:{input:function(e){e.target.composing||(t.phonetic=e.target.value)}}})])]),t._v(" "),n("li",[n("label",[t._v("释义"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.trans,expression:"trans"}],staticClass:"g-textarea",attrs:{type:"textarea",maxlength:"3000"},domProps:{value:t.trans},on:{input:function(e){e.target.composing||(t.trans=e.target.value)}}})])])]),t._v(" "),n("div",{staticClass:"add-revise"},[n("label",[n("input",{staticClass:"g-checkbox all-select",attrs:{type:"checkbox",name:"revise"},domProps:{checked:t.setting.wordbook.addReview}}),t._v("加入复习计划")])]),t._v(" "),n("div",{staticClass:"wb-btn clear-fix"},[n("a",{staticClass:"g-btn-normal btn cancel",attrs:{href:"javascript:;"},on:{click:t.closeWin}},[t._v("取消")]),t._v(" "),n("a",{staticClass:"g-btn-normal btn continue",attrs:{href:"javascript:;"},on:{click:t.addContinue}},[t._v("继续添加")]),t._v(" "),n("a",{staticClass:"g-btn-red btn confirm",attrs:{href:"javascript:;"},on:{click:t.addToWordBook}},[t._v("确定")])])]),t._v(" "),n("Confirm",{attrs:{mask:!1,width:"290px",title:"覆盖单词",visible:t.confirmDialogVisible,cancelText:"不添加了",okText:"继续添加"},on:{ok:t.ok,cancel:t.cancel}},[n("h1",{staticClass:"confirm-tips",attrs:{slot:"content"},slot:"content"},[t._v("您要添加的单词已经存在，继续添加的话会覆盖原有的单词数据")])])],1)},staticRenderFns:[]}}});